# frontend/nginx.conf
server {
    listen 8080;
    server_name localhost;

    # La root Ã¨ la directory di lavoro definita nel Dockerfile
    root /usr/share/nginx/html;

    # Configurazione per servire gli asset di fbasaving
    location /fbasaving/ {
        alias /usr/share/nginx/html/fbasaving/static/;
        # Only try to serve the URI as a file.
        # If it's not a file (or doesn't exist), return 404.
        # We remove the "$uri/" part which checks for directories.
        try_files $uri =404;
    }

    location /fbasaving/static/ {
        alias /usr/share/nginx/html/fbasaving/static/;
        expires 30d;
        add_header Cache-Control "public, no-transform";
    }

    # Aggiungi qui location block per altre app quando necessario:
    # location /altraApp/static/ {
    #     try_files $uri =404;
    # }

    # Opzionale: una pagina di default se si accede alla root /
    location / {
        # Potresti mettere un index.html semplice qui o un messaggio
        return 404; # O return 200 "Frontend Service Root";
    }

    # Opzionale: gestione errori
    error_page 404 /404.html;
    location = /404.html {
        internal;
    }
} 