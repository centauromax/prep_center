# frontend/nginx.conf
server {
    listen 8080;
    server_name localhost;

    # La root non è più usata direttamente per try_files, ma alias sì
    # root /usr/share/nginx/html;

    # Configurazione per servire gli asset di fbasaving
    # Corrisponde agli URL generati da Django tipo /fbasaving/css/style.css
    location /fbasaving/ {
        # 'alias' mappa l'URL alla directory fisica
        alias /usr/share/nginx/html/fbasaving/static/;
        # try_files verifica l'esistenza del file relativo all'alias
        # Per /fbasaving/css/style.css, $uri diventa css/style.css
        try_files $uri $uri/ =404;
    }

    # Aggiungi qui location block per altre app quando necessario:
    # location /altraApp/ {
    #     alias /usr/share/nginx/html/altraApp/static/;
    #     try_files $uri $uri/ =404;
    # }

    # Opzionale: una pagina di default se si accede alla root /
    location / {
        return 404; # O return 200 "Frontend Service Root";
    }

    # Opzionale: gestione errori
    error_page 404 /404.html;
    location = /404.html {
        internal;
    }
} 